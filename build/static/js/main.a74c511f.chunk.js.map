{"version":3,"sources":["components/utils/notification/Notification.js","components/body/auth/ActivationEmail.js","redux/actions/index.js","redux/actions/authActions.js","assets/img/e-com.jpg","components/body/auth/Login.js","components/utils/validation/Validation.js","components/body/auth/Register.js","components/utils/NotFound/NotFound.js","components/body/auth/ForgotPassword.js","components/body/auth/ResetPassword.js","redux/actions/usersAction.js","components/body/profile/Profile.js","components/body/profile/EditUser.js","redux/actions/errorActions.js","redux/actions/itemActions.js","redux/actions/cartActions.js","components/body/shop/Shop.js","components/body/cart/Cart.js","redux/actions/orderActions.js","components/body/orders/Orders.js","components/body/home/Home.js","components/body/shop/Item/AddItem.js","components/body/shop/Item/EditItem.js","components/body/shop/Item/DeleteItem.js","components/body/shop/ProductDetail.js","components/body/checkout/Checkout.js","components/body/orders/Recipt.js","components/body/Body.js","components/header/Header.js","App.js","reportWebVitals.js","redux/reducers/authReducer.js","redux/reducers/tokenReducer.js","redux/reducers/usersReducer.js","redux/reducers/itemReducer.js","redux/reducers/orderReducer.js","redux/reducers/cartReducer.js","redux/reducers/errorReducer.js","redux/reducers/index.js","redux/store.js","index.js"],"names":["showErrMsg","msg","className","showSuccessMsg","ActivationEmail","activation_token","useParams","useState","err","setErr","success","setSuccess","useEffect","a","axios","post","res","data","response","activationEmail","ACTIONS","LOGIN","GET_TOKEN","GET_USER","GET_ALL_USERS","GET_ITEMS","ADD_ITEM","DELETE_ITEM","UPDATE_ITEM","ITEMS_LOADING","CART_LOADING","GET_CART","ADD_TO_CART","DELETE_FROM_CART","ORDERS_LOADING","GET_ORDERS","CHECKOUT","GET_ERRORS","CLEAR_ERRORS","CLEAR_CART","dispatchLogin","type","fetchUser","token","requestOptions","method","headers","Authorization","credentials","body","fetch","then","json","initialState","email","password","Login","user","setUser","dispatch","useDispatch","history","useHistory","handleChangeInput","e","target","name","value","handleSubmit","preventDefault","console","log","localStorage","setItem","push","onSubmit","style","htmlFor","placeholder","id","onChange","to","src","login_img","alt","isEmpty","isEmail","test","String","toLowerCase","isLength","length","isMatch","cf_password","Register","NotFound","ForgotPassword","setData","forgotPassword","onClick","ResetPassword","handleResetPass","fetchAllUsers","get","Profile","auth","useSelector","state","users","isAdmin","avatar","setAvatar","loading","setLoading","callback","setCallback","payload","dispatchGetAllUsers","handleChange","changeAvatar","file","files","size","formData","FormData","append","url","handleDelete","_id","window","confirm","delete","defaultValue","disabled","color","patch","updateInfor","updatePassword","overflowX","map","role","title","EditUser","editUser","setEditUser","checkAdmin","setCheckAdmin","num","setNum","forEach","handleUpdate","goBack","checked","returnErrors","status","getItems","addItem","deleteItem","setItemsLoading","getCart","addToCart","deleteFromCart","Shop","filteredItems","setFilteredItems","search","setSearch","item","items","filter","includes","onAddToCart","productId","quantity","alert","onDeleteItem","Spinner","Button","Card","CardBody","img","CardTitle","tag","CardSubtitle","category","CardText","price","isLogged","Cart","cart","cartLoaded","setCartLoaded","cartFunc","getCartCall","undefined","cartImg","userId","itemId","error","bill","getOrders","Orders","order","orderLoaded","setOrderLoaded","orderFunc","getOrderCall","orders","orderImg","moment","date_added","format","paid","Home","Container","Row","description","AddItem","itemImg","setItemImg","changeItemImg","EditItem","DeleteItem","ProductDetail","item1","i","productImgStyle","itemFun","itemsCall","address","mobileNo","Checkout","razorPayPaymentHandler","orderUrl","options","key","order_id","handler","paymentId","razorpay_payment_id","amount","captureResponse","successObj","JSON","parse","captured","theme","Razorpay","open","pattern","Recipt","orderR","setOrderR","printItems","scope","print","toUpperCase","Body","exact","path","component","Header","handleLogout","removeItem","location","href","isOpen","setIsOpen","nameLength","Navbar","fontWeight","light","expand","NavbarToggler","Collapse","navbar","Nav","NavItem","UncontrolledDropdown","setActiveFromChild","DropdownToggle","slice","DropdownMenu","DropdownItem","divider","App","create","withCredentials","getItem","access_token","getToken","dispatchGetUser","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","authReducer","action","tokenReducer","usersReducer","itemReducer","orderReducer","cartReducer","errorReducer","combineReducers","store","createStore","rootReducer","__REDUX_DEVTOOLS_EXTENSION__","DataProvider","children","defaults","baseURL","ReactDOM","render","Fragment","document","getElementById"],"mappings":"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","file":"static/js/main.a74c511f.chunk.js","sourcesContent":["import React from \"react\";\nimport './notification.css'\n\nexport const showErrMsg = (msg) => {\n    return <div className='errMsg'>{msg}</div>\n}\nexport const showSuccessMsg = (msg) => {\n    return <div className='successMsg'>{msg}</div>\n}","import React, {useEffect, useState} from 'react'\nimport { useParams } from 'react-router-dom'\nimport axios from 'axios'\nimport {showErrMsg, showSuccessMsg} from '../../utils/notification/Notification'\nfunction ActivationEmail() {\n    const {activation_token} = useParams()\n    const [err, setErr] = useState('')\n    const [success, setSuccess] = useState('')\n    useEffect(() => {\n        if(activation_token){\n            const activationEmail = async () => {\n                try{\n                    const res = await axios.post('/user/activation', {activation_token})\n                    setSuccess(res.data.msg)\n                }catch(err){\n                    err.response.data.msg && setErr(err.response.data.msg)\n                }\n            }\n            activationEmail()\n        }\n    },[activation_token])\n    return (\n        <div className=\"active_page\">\n            {err && showErrMsg(err)}\n            {success && showSuccessMsg(success)}\n        </div>\n    )\n}\n\nexport default ActivationEmail\n","const ACTIONS ={\n    LOGIN: 'LOGIN',\n    GET_TOKEN: 'GET_TOKEN',\n    GET_USER: 'GET_USER',\n    GET_ALL_USERS: 'GET_ALL_USERS',\n\n    GET_ITEMS: 'GET_ITEMS',\n    ADD_ITEM: 'ADD_ITEM',\n    DELETE_ITEM : 'DELETE_ITEM',\n    UPDATE_ITEM : 'UPDATE_ITEM',\n    ITEMS_LOADING : 'ITEMS_LOADING',\n    CART_LOADING : 'CART_LOADING',\n    GET_CART : 'GET_CART',\n    ADD_TO_CART : 'ADD_TO_CART',\n    DELETE_FROM_CART : 'DELETE_FROM_CART',\n    ORDERS_LOADING : 'ORDERS_LOADING',\n    GET_ORDERS : 'GET_ORDERS',\n    CHECKOUT : 'CHECKOUT',\n    GET_ERRORS : 'GET_ERRORS',\n    CLEAR_ERRORS : 'CLEAR_ERRORS',\n    CLEAR_CART : 'CLEAR_CART'\n}\n\nexport default ACTIONS","import axios from \"axios\";\nimport ACTIONS from \"./index\";\n\nexport const dispatchLogin = () => {\n    return {\n        type: ACTIONS.LOGIN\n    }\n}\n\nexport const fetchUser = async (token) => {\n    \n    /* const res = await axios.get('/user/infor',{\n        headers: {Authorization: token}\n    }) */\n    const requestOptions = {\n        method: 'GET',\n        headers: { Authorization: token,\n            'Content-Type': 'application/json' },\n        credentials: 'include',\n        body: null\n      };\n    const res = await fetch('/user/infor', requestOptions).then( (response) => { return response.json()})\n    return res\n}\n\nexport const dispatchGetUser =  (res) => {\n    return {\n        type: ACTIONS.GET_USER,\n        /* payload: {\n            user: res.data,\n            isAdmin: res.data.role\n        } */\n        payload: {\n            user: res,\n            isAdmin: res.role\n        }\n    }\n}","export default __webpack_public_path__ + \"static/media/e-com.11d85106.jpg\";","import React, {useState} from 'react'\nimport {Link, useHistory} from 'react-router-dom'\nimport axios from 'axios'\nimport {showErrMsg, showSuccessMsg} from '../../utils/notification/Notification'\nimport { dispatchLogin } from '../../../redux/actions/authActions'\nimport { useDispatch } from 'react-redux'\nimport login_img from '../../../assets/img/e-com.jpg'\nconst initialState = {\n    email: '',\n    password: '',\n    err: '',\n    success: ''\n}\nfunction Login() {\n    const [user, setUser] = useState(initialState)\n    const dispatch = useDispatch()\n    const history = useHistory()\n    const {email, password, err, success} = user\n\n    const handleChangeInput = e => {\n        const {name, value } = e.target\n        setUser({...user, [name]:value, err: '', success: ''})\n    }\n    const handleSubmit = async e => {\n        e.preventDefault()\n        try{\n            const res = await axios.post('/user/login', {email, password},)\n            setUser({...user, err: '', success: res.data.msg})\n            console.log(res)\n            localStorage.setItem('firstlogin',true)\n            dispatch(dispatchLogin())\n            history.push(\"/\")\n\n        }catch(err){\n            console.log(err.response)\n            //err.response.data.msg &&\n            //setUser({...user, err: err.response.data.msg, success: ''}) \n        }\n    }\n    return (\n        <>\n        <section className=\"vh-100\">\n        <div className=\"container-fluid\">\n        \n                <div className=\"row justify-content-center\">\n                    <div className=\"d-flex align-items-center \">\n                        <div className=\"col-12 col-md-6 text-black px-5 pt-5\">\n                            <div >\n                            \n                        <form onSubmit={handleSubmit} style={{\"max-width\": \"23rem\"}}>\n                        <h3 className=\"fw-normal mb-5\">Login</h3>\n                        {err && showErrMsg(err)}\n                        {success && showSuccessMsg(success)}\n                            <div className=\"pb-3\">\n                                <label className=\"form-label\" htmlFor=\"email\" >Email Address</label>\n                                <input type=\"text\" placeholder=\"Enter email address\" id=\"email\"\n                                    value={email} name=\"email\" className=\"form-control form-control-lg\" onChange={handleChangeInput} />\n                            </div>\n                            <div className=\"pb-3\">\n                                <label className=\"form-label\" htmlFor=\"password\" >Password</label>\n                                <input type=\"password\" placeholder=\"Enter password\" id=\"password\"\n                                    value={password} name=\"password\" className=\"form-control form-control-lg\" onChange={handleChangeInput} />\n                            </div>\n                            <div className=\"pt-1 mb-4\" >\n                                <button  className=\"btn btn-info btn-lg btn-block\" type=\"submit\">Login</button>\n                            </div>\n                            <p className=\"small mb-2 pb-lg-3 \">\n                            <Link to=\"/forgot_password\">Forgot your password?</Link>\n                            </p>\n                        </form>\n                        </div>\n                        <p>New Customer?<Link to=\"/register\">Register here</Link></p>\n                        </div>\n                        <div className=\"col-md-6 px-0 d-none d-md-block\">\n                            <img src={login_img} alt=\"Login\" className=\"w-100 vh-100 login_img\"/>\n                        </div>\n                    </div>\n                </div>\n        \n        </div>\n        </section>\n    </>\n    )\n}\n\nexport default Login\n","export const isEmpty = value => {\n    if(!value) return true\n    return false\n}\n\nexport const isEmail = email => {\n    //\n    const re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n    return re.test(String(email).toLowerCase());\n}\n\nexport const isLength = password => {\n    if(password.length < 6) return true\n    return false\n}\n\nexport const isMatch = (password, cf_password) => {\n    if(password === cf_password) return true\n    return false\n}","import React, {useState} from 'react'\nimport {Link} from 'react-router-dom'\nimport axios from 'axios'\nimport {showErrMsg, showSuccessMsg} from '../../utils/notification/Notification'\nimport {isEmpty, isEmail, isLength, isMatch} from '../../utils/validation/Validation'\nconst initialState = {\n    name: '',\n    email: '',\n    password: '',\n    cf_password: '',\n    err: '',\n    success: ''\n}\nfunction Register() {\n    const [user, setUser] = useState(initialState)\n    const {name, email, password, cf_password, err, success} = user\n\n    const handleChangeInput = e => {\n        const {name, value } = e.target\n        setUser({...user, [name]:value, err: '', success: ''})\n    }\n    const handleSubmit = async e => {\n        e.preventDefault()\n        if(isEmpty(name) || isEmpty(password))\n                return setUser({...user, err: \"Please fill in all fields.\", success: ''})\n        if(!isEmail(email))\n            return setUser({...user, err: \"Invalid email.\", success: ''})\n        if(isLength(password))\n            return setUser({...user, err: \"Password must be at least 6 characters.\", success: ''})\n        if(!isMatch(password, cf_password))\n            return setUser({...user, err: \"Password did not match.\", success: ''})\n        \n        try{\n            const res = await axios.post('/user/register', {\n                name, email, password\n            })\n\n            setUser({...user, err:'', success: res.data.msg})\n\n        }catch(err){\n            err.response.data.msg &&\n            setUser({...user, err: err.response.data.msg, success: ''})\n        }\n    }\n    return (\n        <div className=\"container-fluid\">\n             <div className=\"row justify-content-center\">\n             <div className=\"col-12 col-md-6 text-black px-5 pt-3\">\n                <form onSubmit={handleSubmit}>\n                    <h2 className=\"text-center pb-4\">Register</h2>\n                    {err && showErrMsg(err)}\n                    {success && showSuccessMsg(success)}\n                    <div className=\"pb-3\">\n                        <label className=\"form-label\" htmlFor=\"name\" >Name</label>\n                        <input type=\"text\" placeholder=\"Enter your name\" id=\"name\"\n                            value={name} name=\"name\" className=\"form-control form-control-lg\" onChange={handleChangeInput} />\n                    </div>\n                    <div className=\"pb-3\">\n                        <label className=\"form-label\" htmlFor=\"email\" >Email Address</label>\n                        <input type=\"text\" placeholder=\"Enter email address\" id=\"email\"\n                            value={email} name=\"email\" className=\"form-control form-control-lg\" onChange={handleChangeInput} />\n                    </div>\n                    <div className=\"pb-3\">\n                        <label className=\"form-label\" htmlFor=\"password\" >Password</label>\n                        <input type=\"password\" placeholder=\"Enter password\" id=\"password\"\n                            value={password} name=\"password\" className=\"form-control form-control-lg\" onChange={handleChangeInput} />\n                    </div>\n                    <div className=\"pb-3\">\n                        <label className=\"form-label\" htmlFor=\"cf_password\" >Confirm Password</label>\n                        <input type=\"password\" placeholder=\"Enter Confirm password\" id=\"cf_password\"\n                            value={cf_password} name=\"cf_password\" className=\"form-control form-control-lg\" onChange={handleChangeInput} />\n                    </div>\n                    <div className=\"pt-1 mb-3\">\n                        <button  className=\"btn btn-info btn-lg btn-block\" type=\"submit\">Register</button>\n                    </div>\n                    <p>Already have an account?<Link to=\"/login\">Login</Link></p>\n                </form>\n                    \n            </div>\n            </div>\n        </div>\n    )\n}\n\nexport default Register\n","import React from 'react'\n\nfunction NotFound() {\n    return (\n        <div>\n            404 | Not Found\n        </div>\n    )\n}\n\nexport default NotFound\n","import axios from 'axios'\nimport React, {useState} from 'react'\nimport { showErrMsg, showSuccessMsg } from '../../utils/notification/Notification'\nimport { isEmail } from '../../utils/validation/Validation'\n\nconst initialState = {\n    email:'',\n    err: '',\n    success: ''\n}\nfunction ForgotPassword() {\n    const [data, setData] = useState(initialState)\n\n    const {email, err, success} = data\n\n    const handleChangeInput =  e =>{\n        const {name, value} = e.target\n        setData({...data, [name]:value, err:'', success: ''})\n    }\n\n    const forgotPassword = async() => {\n        if(!isEmail(email))\n            return setData({...data, err: 'Invalid email.', success: ''})\n        try{\n            const res = await axios.post('/user/forgot', {email})\n            return setData({...data, err:'', success: res.data.msg})\n        }catch(err){\n            err.response.data.msg && setData({...data, err: err.response.data.msg, success: ''})\n        }\n    }\n    return (\n        <div className=\"container-fluid\">\n            <div className=\"row justify-content-center pt-5\">\n                <div className=\"col-10 col-md-5\">\n                    <h2 className=\"text-center\">Forgot Your Password?</h2>\n                    {err && showErrMsg(err)}\n                    {success && showSuccessMsg(success)}\n                    <div className=\"pb-3 pt-4\">\n                        <label className=\"form-label\" htmlFor=\"email\">Enter your email address</label>\n                        <input type=\"email\" name=\"email\" id=\"email\" value={email} className=\"form-control form-control-lg\"\n                            onChange={handleChangeInput} />\n                    </div>\n                    <button  className=\"btn btn-info btn-lg btn-block\" onClick={forgotPassword}>Verify your email</button>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default ForgotPassword\n","import axios from 'axios'\nimport React ,{useState}from 'react'\nimport { useParams } from 'react-router-dom'\nimport { showErrMsg, showSuccessMsg } from '../../utils/notification/Notification'\nimport { isLength, isMatch } from '../../utils/validation/Validation'\n\nconst initialState = {\n    password: '',\n    cf_password: '',\n    err: '',\n    success: ''\n}\nfunction ResetPassword() {\n    const [data, setData] = useState(initialState)\n    const {token} = useParams() \n    const {password, cf_password, err, success }= data\n\n    const handleChangeInput =  e =>{\n        const {name, value} = e.target\n        setData({...data, [name]:value, err:'', success: ''})\n    }\n    const handleResetPass = async () => {\n        if(isLength(password))\n            return setData({...data, err: \"Password must be at least 6 characters.\", success: ''})\n        if(!isMatch(password, cf_password))\n            return setData({...data, err: \"Password did not match.\", success: ''})\n        try{\n            const res = await axios.post('/user/reset', { password} , {\n                headers: {Authorization: token}\n            })\n\n            setData({...data, err:'', success: res.data.msg})\n\n        }catch(err){\n            err.response.data.msg &&\n            setData({...data, err: err.response.data.msg, success: ''})\n        }\n    }\n    return (\n        <div className=\"container-fluid\">\n            \n            <div className=\"row justify-content-center pt-5\">\n            <div className=\"col-10 col-md-5\">\n                <h2 className=\"text-center\">Reset Your Password</h2>\n                {err && showErrMsg(err)}\n                {success && showSuccessMsg(success)}\n                <div className=\"pb-3 pt-4\">\n                <label className=\"form-label\" htmlFor=\"password\">Password</label>\n                <input className=\"form-control form-control-lg\" type=\"password\" name=\"password\" id=\"password\" value={password}\n                    onChange={handleChangeInput} />\n                </div>\n                <div className=\"pb-3\">\n                <label className=\"form-label\" htmlFor=\"cf_password\">Confirm Password</label>\n                <input className=\"form-control form-control-lg\" type=\"password\" name=\"cf_password\" id=\"cf_password\" value={cf_password}\n                    onChange={handleChangeInput} />\n                </div>\n                <div className=\"pb-3\">\n                <button className=\"btn btn-info btn-lg btn-block\" onClick={handleResetPass}>Reset Password</button>\n                </div>\n            </div>\n            </div>\n        </div>\n    )\n}\n\nexport default ResetPassword\n","import axios from \"axios\";\nimport ACTIONS from \"./index\";\n\nexport const fetchAllUsers = async (token) => {\n    \n    const res = await axios.get('/user/all_infor',{\n        headers: {Authorization: token}\n    })\n    return res\n}\n\nexport const dispatchGetAllUsers =  (res) => {\n    return {\n        type: ACTIONS.GET_ALL_USERS,\n        payload: res.data\n    }\n}","import React, {useState, useEffect} from 'react'\nimport axios from 'axios'\nimport {useSelector, useDispatch} from 'react-redux'\nimport {Link} from 'react-router-dom'\nimport {isLength, isMatch} from '../../utils/validation/Validation'\nimport {showSuccessMsg, showErrMsg} from '../../utils/notification/Notification'\nimport {fetchAllUsers, dispatchGetAllUsers} from '../../../redux/actions/usersAction'\n\nconst initialState = {\n    name: '',\n    password: '',\n    cf_password: '',\n    err: '',\n    success: ''\n}\n\nfunction Profile() {\n    const auth = useSelector(state => state.auth)\n    const token = useSelector(state => state.token)\n\n    const users = useSelector(state => state.users)\n\n    const {user, isAdmin} = auth\n    const [data, setData] = useState(initialState)\n    const {name, password, cf_password, err, success} = data\n\n    const [avatar, setAvatar] = useState(false)\n    const [loading, setLoading] = useState(false)\n    const [callback, setCallback] = useState(false)\n\n    const dispatch = useDispatch()\n\n    useEffect(() => {\n        if(isAdmin){\n            fetchAllUsers(token).then(res =>{\n                dispatch(dispatchGetAllUsers(res))\n            })\n        }\n    },[token, isAdmin, dispatch, callback])\n\n    const handleChange = e => {\n        const {name, value} = e.target\n        setData({...data, [name]:value, err:'', success: ''})\n    }\n\n    const changeAvatar = async(e) => {\n        e.preventDefault()\n        try {\n            const file = e.target.files[0]\n\n            if(!file) return setData({...data, err: \"No files were uploaded.\" , success: ''})\n\n            if(file.size > 1024 * 1024)\n                return setData({...data, err: \"Size too large.\" , success: ''})\n\n            if(file.type !== 'image/jpeg' && file.type !== 'image/png')\n                return setData({...data, err: \"File format is incorrect.\" , success: ''})\n\n            let formData =  new FormData()\n            formData.append('file', file)\n\n            setLoading(true)\n            const res = await axios.post('/api/upload_avatar', formData, {\n                headers: {'content-type': 'multipart/form-data', Authorization: token}\n            })\n\n            setLoading(false)\n            setAvatar(res.data.url)\n            \n        } catch (err) {\n            setData({...data, err: err.response.data.msg , success: ''})\n        }\n    }\n\n    const updateInfor = () => {\n        try {\n            axios.patch('/user/update', {\n                name: name ? name : user.name,\n                avatar: avatar ? avatar : user.avatar\n            },{\n                headers: {Authorization: token}\n            })\n\n            setData({...data, err: '' , success: \"Updated Success!\"})\n        } catch (err) {\n            setData({...data, err: err.response.data.msg , success: ''})\n        }\n    }\n\n    const updatePassword = () => {\n        if(isLength(password))\n            return setData({...data, err: \"Password must be at least 6 characters.\", success: ''})\n\n        if(!isMatch(password, cf_password))\n            return setData({...data, err: \"Password did not match.\", success: ''})\n\n        try {\n            axios.post('/user/reset', {password},{\n                headers: {Authorization: token}\n            })\n\n            setData({...data, err: '' , success: \"Updated Success!\"})\n        } catch (err) {\n            setData({...data, err: err.response.data.msg , success: ''})\n        }\n    }\n\n    const handleUpdate = () => {\n        if(name || avatar) updateInfor()\n        if(password) updatePassword()\n    }\n\n    const handleDelete = async (id) => {\n        try {\n            if(user._id !== id){\n                if(window.confirm(\"Are you sure you want to delete this account?\")){\n                    setLoading(true)\n                    await axios.delete(`/user/delete/${id}`, {\n                        headers: {Authorization: token}\n                    })\n                    setLoading(false)\n                    setCallback(!callback)\n                }\n            }\n            \n        } catch (err) {\n            setData({...data, err: err.response.data.msg , success: ''})\n        }\n    }\n    const avatarStyle = {\n        \"height\": \"150px\",\n        \"width\": \"150px\"\n    }\n    return (\n        <>\n        <div>\n            {err && showErrMsg(err)}\n            {success && showSuccessMsg(success)}\n            {loading && <h3>Loading.....</h3>}\n        </div>\n        <div className=\"container-fluid m-1\">\n            <div className=\"row\">\n            <div className={\"col-12 \"+ (isAdmin? \"col-lg-4\" : '' ) + \" d-flex justify-content-center \"}>\n                <div className={\"col-12 col-sm-6 \"+(isAdmin? \"col-lg-10\":\"col-lg-6\")}>\n                <h2 className=\"text-center\">{isAdmin ? \"Admin Profile\": \"User Profile\"}</h2>\n\n                <div className=\"avatar mb-2\">\n                    <img src={avatar ? avatar : user.avatar} alt=\"\" style={avatarStyle} />\n                    <span>\n                        <p>Profile Image Change <i className=\"fas fa-camera\"></i></p>\n                        <input type=\"file\" name=\"file\" id=\"file_up\" onChange={changeAvatar} className=\"form-control form-control-lg\" />\n                    </span>\n                </div>\n\n                <div className=\"form-group mb-2\">\n                    <label className=\"form-label\" htmlFor=\"name\">Name</label>\n                    <input type=\"text\" name=\"name\" id=\"name\" defaultValue={user.name}\n                    placeholder=\"Your name\" onChange={handleChange} className=\"form-control form-control-lg\"/>\n                </div>\n\n                <div className=\"form-group mb-2\">\n                    <label className=\"form-label\" htmlFor=\"email\">Email</label>\n                    <input type=\"email\" name=\"email\" id=\"email\" defaultValue={user.email}\n                    placeholder=\"Your email address\" disabled className=\"form-control form-control-lg\" />\n                </div>\n\n                <div className=\"form-group mb-2\">\n                    <label className=\"form-label\" htmlFor=\"password\">New Password</label>\n                    <input type=\"password\" name=\"password\" id=\"password\"\n                    placeholder=\"Your password\" value={password} onChange={handleChange} className=\"form-control form-control-lg\" />\n                </div>\n\n                <div className=\"form-group mb-2\">\n                    <label className=\"form-label\" htmlFor=\"cf_password\">Confirm New Password</label>\n                    <input type=\"password\" name=\"cf_password\" id=\"cf_password\"\n                    placeholder=\"Confirm password\" value={cf_password} onChange={handleChange} className=\"form-control form-control-lg\"/>\n                </div>\n\n                <div className=\"mb-2\">\n                    <em style={{color: \"crimson\"}}> \n                    * If you update your password here, you will not be able \n                        to login quickly using google and facebook.\n                    </em>\n                </div>\n\n                <button  onClick={handleUpdate} className=\"btn btn-info btn-lg btn-block mb-3\" disabled={loading}>Update</button>\n                </div>\n            </div>\n            {isAdmin ?\n            <div className=\"col-12 col-lg-8 text-center \">\n                <h2>Users</h2>\n                <div style={{overflowX: \"auto\"}}>\n                    <table className=\"customers\">\n                        <thead>\n                            <tr>\n                                <th>ID</th>\n                                <th>Name</th>\n                                <th>Email</th>\n                                <th>Admin</th>\n                                <th>Action</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            {\n                                users.map(user => (\n                                    <tr key={user._id}>\n                                        <td>{user._id}</td>\n                                        <td>{user.name}</td>\n                                        <td>{user.email}</td>\n                                        <td>\n                                            {\n                                                user.role \n                                                ? <i className=\"fas fa-check\" title=\"Admin\"></i>\n                                                : <i className=\"fas fa-times\" title=\"User\"></i>\n                                            }\n                                        </td>\n                                        <td>\n                                            <Link to={`/edit_user/${user._id}`}>\n                                                <i className=\"fas fa-edit\" title=\"Edit\"></i>\n                                            </Link>\n                                            <i className=\"fas fa-trash-alt\" title=\"Remove\"\n                                            onClick={() => handleDelete(user._id)} ></i>\n                                        </td>\n                                    </tr>\n                                ))\n                            }\n                        </tbody>\n                    </table>\n                </div>\n            </div>\n            :\n            null}\n            </div>\n        </div>\n        </>\n    )\n}\n\nexport default Profile","import React, {useState, useEffect} from 'react'\nimport {useParams, useHistory} from 'react-router-dom'\nimport {useSelector} from 'react-redux'\nimport axios from 'axios'\nimport { showErrMsg, showSuccessMsg } from '../../utils/notification/Notification'\n\nfunction EditUser() {\n\n    const {id}= useParams()\n    const history = useHistory()\n    const [editUser, setEditUser] = useState([])\n\n    const users = useSelector(state => state.users)\n    const token = useSelector(state => state.token)\n\n    const [checkAdmin, setCheckAdmin]= useState(false)\n    const [err, setErr]= useState(false)\n    const [success, setSuccess]= useState(false)\n    const [num, setNum]= useState(0)\n\n    useEffect(() => {\n        if(users.length !== 0 ){\n            users.forEach(user => {\n                if(user._id === id){\n                    setEditUser(user)\n                    setCheckAdmin(user.role)\n                }\n            })\n        }else{\n            history.push('/profile')\n        }\n    },[users, id, history])\n\n    const handleUpdate = async() => {\n        try {\n            if(num % 2 !== 0){\n                const res = await axios.patch(`/user/update_role/${editUser._id}`, {\n                    role: checkAdmin\n                }, {\n                    headers: {Authorization: token}\n                })\n                setSuccess(res.data.msg)\n                setNum(0)\n            }\n        } catch (err) {\n            err.response.data.msg && setErr(err.response.data.msg)\n        }\n    }\n    const handleCheck = () => {\n        setSuccess('')\n        setErr('')\n        setCheckAdmin(!checkAdmin)\n        setNum(num + 1)\n    }\n    return (\n        <div className=\"profile_page edit_user\">\n            <div className=\"row\">\n                <button onClick={() => history.goBack()} className=\"go_back\">\n                    <i className=\"fas fa-long-arrow-alt-left\"></i> Go Back\n                </button>\n            </div>\n            <div className=\"col-left\">\n                <h2>Edit User</h2>\n                <div className=\"form-group\">\n                    <label htmlFor=\"name\">Name</label>\n                    <input type=\"text\" name=\"name\"defaultValue={editUser.name}\n                    disabled />\n                </div>\n\n                <div className=\"form-group\">\n                    <label htmlFor=\"email\">Email</label>\n                    <input type=\"email\" name=\"email\"  defaultValue={editUser.email}\n                     disabled />\n                </div>\n                <div className=\"form-group\">\n                    <input type=\"checkbox\" id=\"isAdmin\" checked={checkAdmin}\n                        onChange={handleCheck}/>\n                        <label htmlFor=\"isAdmin\">isAdmin</label>\n                </div>\n                <button  onClick={handleUpdate}>Update</button>\n                {err && showErrMsg(err)}\n                {success && showSuccessMsg(success)}\n            </div>\n        </div>\n    )\n}\n\nexport default EditUser\n","import ACTIONS from \"./index\";\r\n// RETURN ERRORS\r\nexport const returnErrors = (msg, status, id = null) => {\r\n    return {\r\n        type: ACTIONS.GET_ERRORS,\r\n        payload: { msg, status, id }\r\n    }\r\n}\r\n\r\n// CLEAR ERRORS\r\nexport const clearErrors = () => {\r\n    return {\r\n        type: ACTIONS.CLEAR_ERRORS\r\n    }\r\n}","import axios from \"axios\";\r\nimport ACTIONS from \"./index\";\r\nimport { returnErrors } from './errorActions';\r\n\r\nexport const getItems = (res) => {\r\n    return {\r\n        type: ACTIONS.GET_ITEMS,\r\n        payload: res.data\r\n    }\r\n}\r\n\r\nexport const addItem = (res) => {\r\n    return {\r\n            type: ACTIONS.ADD_ITEM,\r\n            payload: res.data\r\n        }\r\n}\r\n\r\nexport const deleteItem = (id) => {\r\n        return {\r\n            type: ACTIONS.DELETE_ITEM,\r\n            payload: id\r\n        }\r\n}\r\n\r\nexport const updateItem = (id, item) => (dispatch) => {\r\n    axios.put(`/api/items/${id}`, item)\r\n        .then(res => dispatch({\r\n            type: ACTIONS.UPDATE_ITEM,\r\n            payload: Promise.all([id, res.data])\r\n        }))\r\n        .catch(err => dispatch(returnErrors(err.response.data, err.response.status)))\r\n}\r\n\r\nexport const setItemsLoading = () => {\r\n    return{\r\n        type: ACTIONS.ITEMS_LOADING\r\n    }\r\n}","import ACTIONS from \"./index\";\r\n\r\nexport const getCart = (res) => {\r\n    return {\r\n            type: ACTIONS.GET_CART,\r\n            payload: res.data\r\n        }\r\n}\r\n\r\nexport const addToCart = (res) => {\r\n     return {\r\n            type: ACTIONS.ADD_TO_CART,\r\n            payload: res.data\r\n        }\r\n}\r\n\r\nexport const deleteFromCart = (res) => {\r\n    return {\r\n            type: ACTIONS.DELETE_FROM_CART,\r\n            payload: res.data\r\n        }\r\n}\r\n\r\nexport const setCartLoading = () => {\r\n    return{\r\n        type: ACTIONS.CART_LOADING\r\n    }\r\n}\r\n\r\nexport const clearCart = () => {\r\n    return {\r\n        type: ACTIONS.CLEAR_CART\r\n    }\r\n}","import React, {useState, useEffect} from 'react'\r\nimport {Link} from 'react-router-dom'\r\nimport axios from 'axios'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { deleteItem } from '../../../redux/actions/itemActions'\r\nimport { returnErrors } from '../../../redux/actions/errorActions'\r\nimport {Spinner, Card, CardText, CardBody, CardTitle, CardSubtitle, Button} from 'reactstrap'\r\nimport './Shop.css'\r\nimport { addToCart } from '../../../redux/actions/cartActions'\r\nfunction Shop() {\r\n    const [filteredItems, setFilteredItems] = useState([])\r\n    const [search, setSearch] = useState('')\r\n    const dispatch = useDispatch()\r\n    const item = useSelector(state => state.item)\r\n    const auth = useSelector(state => state.auth)\r\n\r\n    \r\n\r\n    useEffect(()=>{\r\n        if(item.items.length > 0)\r\n            setFilteredItems(\r\n                item.items.filter((item) => {\r\n                    return item.title.toLowerCase().includes(search.toLowerCase())\r\n                })\r\n            )\r\n    },[search,item.items])\r\n    const onAddToCart = async (id, productId,quantity) => {\r\n        try {\r\n            const res = await axios.post(`/api/cart/${id}`, {productId, quantity})\r\n            dispatch(addToCart(res))\r\n            return alert ('Item added to Cart');\r\n        } catch (err) {\r\n            //dispatch(returnErrors(err.response.data, err.response.status))\r\n            console.log(\"ProductDetail AddToCart err: \");\r\n            return console.log(err);\r\n        }\r\n    }\r\n    const onDeleteItem = async (id) => {\r\n        try {\r\n            const res = await axios.delete(`/api/items/${id}`)\r\n            \r\n            dispatch(deleteItem(id))\r\n        } catch (err){\r\n            dispatch(returnErrors(err.response.data, err.response.status))\r\n            console.log(\"onDeleteItem Error: \")\r\n            return console.log(err);\r\n        }\r\n    }\r\n    const printItems = () => {\r\n            return (filteredItems.map((item) => {\r\n                return (\r\n                    <div className=\"col-12 col-md-4 \" key={item._id}>\r\n                            <Card className=\"mb-4 gpk-product-scale gpk-product-minHeight\">\r\n                                <CardBody>\r\n                                <Link to={`/shop/item_details/${item._id}`} className=\"text-dark text-decoration-none\" >\r\n                                <div className=\"d-flex justify-content-center\">\r\n                                    <img className=\"w-75\" src={item.img} alt=\"Product\" />\r\n                                </div>\r\n                                    <CardTitle tag=\"h5\">{item.title}</CardTitle>\r\n                                    <CardSubtitle tag=\"h6\" >category:{item.category}</CardSubtitle>\r\n                                </Link>\r\n                                    <div className=\"row\">\r\n                                        <div className=\"col\">\r\n                                            <CardText tag=\"h4\"> {item.price}</CardText>\r\n                                        </div>\r\n                                    </div>\r\n                                    <CardText className=\"mt-2\" >\r\n                                    {auth.isLogged?\r\n                                        <Button\r\n                                            color=\"info\"\r\n                                            size=\"sm\"\r\n                                            className=\"gpk-btn m-1\"\r\n                                            onClick={() => {\r\n                                                onAddToCart(auth.user._id, item._id, 1)\r\n                                            }}\r\n                                            >Add To Cart</Button> \r\n                                        : null }\r\n                                    {auth.isAdmin? <>\r\n                                    <Link to={`/shop/edit_item/${item._id}`} className=\"text-decoration-none\" >\r\n                                    <Button\r\n                                        color=\"warning\"\r\n                                        size=\"sm\"\r\n                                        className=\"gpk-btn m-1\"\r\n                                        >Edit Product</Button> \r\n                                    </Link>\r\n                                    \r\n                                    <Button\r\n                                    color=\"danger\"\r\n                                    size=\"sm\"\r\n                                    className=\"gpk-btn m-1\"\r\n                                    onClick={() => {\r\n                                        onDeleteItem(item._id)\r\n                                    }}\r\n                                    >Delete Product</Button>\r\n                                        </>\r\n                                    : null }\r\n                                    </CardText>\r\n                                </CardBody>\r\n                                \r\n                            </Card>\r\n                            </div>\r\n                )\r\n            }))\r\n    }\r\n    return (\r\n        <div className=\"container-fluid\">\r\n            { item.loading?\r\n                <div className=\"d-flex justify-content-center align-items-center\" style={{\"minHeight\":\"87vh\"}}>\r\n                    <Spinner color=\"dark\" />\r\n                </div>\r\n                :\r\n                <>\r\n                    <div className=\"row pt-5 d-flex justify-content-center\">\r\n                        <div className=\"col-10 col-md-6\">\r\n                        <input type=\"text\" placeholder=\"Search\" onChange={ e => setSearch(e.target.value) }\r\n                            className=\"form-control form-control-lg\" />\r\n                            \r\n                        </div>\r\n                        {auth.isAdmin? <div className=\"row m-3 text-center\">\r\n                        <div className=\"col-12\">\r\n                            <Button color=\"danger\" size=\"sm\"className=\"gpk-btn \">\r\n                                <Link to=\"/shop/items/add_item\" className=\"gpk-link\">Add Product</Link>\r\n                            </Button> \r\n                            </div>\r\n                            </div> : null}\r\n                    </div>\r\n                    <div className=\"row pt-5 d-flex justify-content-center\">\r\n                        {printItems()}\r\n                    </div>\r\n                </>\r\n                \r\n            }\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Shop\r\n","import React, { useEffect, useState } from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport {Card, Spinner, Button} from 'reactstrap';\r\nimport axios from 'axios'\r\nimport { deleteFromCart, getCart, setCartLoading } from '../../../redux/actions/cartActions'\r\nimport { returnErrors } from '../../../redux/actions/errorActions'\r\nimport { Link, useHistory} from 'react-router-dom';\r\nimport './Cart.css'\r\n\r\nfunction Cart() {\r\n    const cart = useSelector(state => state.cart)\r\n    const auth = useSelector(state => state.auth)\r\n    const [cartLoaded, setCartLoaded]= useState(false)\r\n    const dispatch = useDispatch()\r\n    const history = useHistory()\r\n    \r\n    const cartFunc = () => {\r\n        const getCartCall = async () => {\r\n            try {\r\n                const id = auth.user._id\r\n                const res = await axios.get(`/api/cart/${id}`)\r\n                dispatch(getCart(res))\r\n                if(id!== undefined){\r\n                    setCartLoaded(false)\r\n                }else{\r\n                    setCartLoaded(true)\r\n                }\r\n            } catch (err) {\r\n                try{\r\n                    dispatch(returnErrors(err.response.data, err.response.status))\r\n                }catch(e){\r\n                    console.log(\"Cart-page-getCartCall-err: \"+e);\r\n                }\r\n            }\r\n        }\r\n        if(!cartLoaded){\r\n            if( auth.user._id!==undefined && cart.cart === null ){\r\n                dispatch(setCartLoading())\r\n                getCartCall()\r\n              }\r\n        }\r\n        \r\n    }\r\n    useEffect(() => {\r\n        cartFunc()\r\n    },[auth.isLogged, cartLoaded])\r\n\r\n    const cartImg = {\r\n        \"width\" : \"125px\",\r\n        \"borderRadius\": \"100%\"\r\n    }\r\n    const deleteItem = async(userId, itemId) =>{\r\n        try {\r\n            const res = await axios.delete(`/api/cart/${userId}/${itemId}`)\r\n            dispatch(deleteFromCart(res))\r\n            return alert(\"Item deleted from cart\")\r\n        } catch (err){\r\n            try {\r\n                dispatch(returnErrors(err.response.data, err.response.status))\r\n            } catch (error) {\r\n                console.log(error)\r\n            }\r\n            return alert(\"something went wrong..\")\r\n        }\r\n    }\r\n    const displayCart=()=> {\r\n        if(cart.cart!==null && cart.cart!==\"\"){\r\n            return (\r\n            cart.cart.items.map((item)=> (\r\n                <div className=\"row m-1\" key={item.productId}>\r\n                <Card className=\"mb-4 gpk-product-scale py-3\">\r\n                    <div className=\"col px-2\">\r\n                        <div className=\"text-end\">\r\n                            <Button className=\"btn-danger\" onClick={() => {deleteItem(auth.user._id,item.productId)}}>\r\n                                <i className=\"fas fa-times\"></i>\r\n                            </Button>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"col-11\">\r\n                        <div className=\"row\">\r\n                        <Link to={`/shop/item_details/${item.productId}`} className=\"text-dark text-decoration-none \r\n                            d-flex flex-column flex-sm-row align-items-center \r\n                            text-center\" >\r\n                            <div className=\"col-12 col-sm-3\">\r\n                                <img src={item.img} alt='product_img' style={cartImg} />\r\n                            </div>\r\n                            <div className=\"col-12 col-sm-5\">\r\n                                <h5>{item.name}</h5>\r\n                            </div>\r\n                            <div className=\"col-12 col-sm-2\">\r\n                                <h6>Quantity:{item.quantity}</h6>\r\n                            </div>\r\n                            <div className=\"col-12 col-sm-2\">\r\n                                <h4>Rs. {item.price}</h4>\r\n                            </div>\r\n                        </Link>\r\n                        </div>\r\n                    </div>\r\n                    \r\n                </Card>\r\n                </div>\r\n            ))\r\n            \r\n            )\r\n        }else{\r\n            /*return (\r\n                <div className=\"text-center\"><h1>Cart is Empty</h1></div>\r\n            )*/\r\n            return null\r\n        }\r\n    }\r\n    const loadingfun = () =>{\r\n        return (\r\n            <div className=\"d-flex justify-content-center align-items-center\" style={{\"minHeight\":\"87vh\"}}>\r\n                    <Spinner color=\"dark\" />\r\n                    <h1>Loading...</h1>\r\n            </div>\r\n        )\r\n    }\r\n    return (\r\n            <div className=\"Container \">\r\n                <h1 className=\"text-center\">Cart </h1>\r\n                {  cart.loading ? \r\n                    loadingfun()\r\n                    :\r\n                    <div className=\"m-3 \">\r\n                            { displayCart()}\r\n                    {cart.cart !== \"\"? <>\r\n                        <h1 className=\"text-end\">Total Bill: { cart.cart? cart.cart.bill: 0 }</h1>\r\n                        <div className=\"d-flex justify-content-end\">\r\n                           <Button onClick={() => history.push('/checkout')}>Checkout</Button>\r\n                        </div>\r\n                        </>\r\n                    :<h1 className=\"text-center text-info\">Empty</h1>}\r\n                    </div>\r\n                \r\n                }\r\n            </div>\r\n    )\r\n}\r\n\r\nexport default Cart\r\n","import ACTIONS from '.';\r\n\r\nexport const getOrders = (res) => {\r\n    return {\r\n            type: ACTIONS.GET_ORDERS,\r\n            payload: res.data\r\n        }\r\n}\r\n\r\nexport const checkout = (res) =>{\r\n        return {\r\n            type: ACTIONS.CHECKOUT,\r\n            payload: res.data\r\n        }\r\n}\r\n\r\nexport const setOrdersLoading = () => {\r\n    return{\r\n        type: ACTIONS.ORDERS_LOADING\r\n    }\r\n}","import React, { useEffect, useState } from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport {Card, CardText, CardBody, CardTitle, CardSubtitle, Spinner, Button} from 'reactstrap';\r\nimport { Link, useHistory} from 'react-router-dom';\r\nimport { returnErrors } from '../../../redux/actions/errorActions';\r\nimport { getOrders, setOrdersLoading } from '../../../redux/actions/orderActions';\r\nimport axios from 'axios';\r\nimport moment from 'moment'\r\nfunction Orders() {\r\n    const order = useSelector(state => state.order)\r\n    const auth = useSelector(state => state.auth)\r\n    const [orderLoaded, setOrderLoaded]= useState(false)\r\n    const dispatch = useDispatch()\r\n    const history = useHistory()\r\n\r\n    const orderFunc = () => {\r\n        const getOrderCall = async () => {\r\n            try {\r\n                const userId = auth.user._id\r\n                const res = await axios.get(`/api/order/${userId}`)\r\n                dispatch(getOrders(res))\r\n                if(userId!== undefined){\r\n                    setOrderLoaded(false)\r\n                }else{\r\n                    setOrderLoaded(true)\r\n                }\r\n            } catch (err) {\r\n                try{\r\n                    dispatch(returnErrors(err.response.data, err.response.status))\r\n                }catch(e){\r\n                    console.log(\"Cart-page-getCartCall-err: \"+e);\r\n                }\r\n            }\r\n        }\r\n\r\n        if(!orderLoaded){\r\n            if( auth.user._id!==undefined && order.orders.length === 0 ){\r\n                dispatch(setOrdersLoading())\r\n                getOrderCall()\r\n              }\r\n        }\r\n        \r\n    }\r\n    useEffect(() => {\r\n        orderFunc()\r\n    },[auth.isLogged, orderLoaded])\r\n\r\n    const orderImg = {\r\n        \"width\" : \"125px\",\r\n        \"borderRadius\": \"100%\"\r\n    }\r\n    const displayOrders=()=> {\r\n        if(order.orders!==null && order.orders.length !== 0){\r\n            return (\r\n                order.orders.map((order)=> (\r\n                <div className=\"row m-1\" key={order._id}>\r\n                <Card className=\"mb-4 py-3\">\r\n                    <div className=\"d-flex flex-row justify-content-between\">\r\n                        <div>\r\n                            <h6>Order Id: {order._id}</h6>\r\n                            <h6>Ordered: {moment(order.date_added).format('LLL')}</h6>\r\n                        </div>\r\n                        {order.paid?\r\n                        <Button className=\"btn btn-info mb-2 \" onClick={()=> history.push(`/order/recipt/${order._id}`)}>Recipt</Button>\r\n                        :\r\n                        <h6 className=\"text-danger\"> Payment Failed</h6>\r\n                        }\r\n                    </div>\r\n                    <div className=\"col-12\">\r\n                        {order.items.map((item)=> (\r\n                            <Card className=\"mb-4 gpk-product-scale py-3\" key={item.productId}>\r\n                            <div className=\"row\">\r\n                                <Link to={`/shop/item_details/${item.productId}`} className=\"text-dark text-decoration-none \r\n                                    d-flex flex-column flex-sm-row align-items-center \r\n                                    text-center\" >\r\n                                    <div className=\"col-12 col-sm-3\">\r\n                                        <img src={item.img} alt='product_img' style={orderImg} />\r\n                                    </div>\r\n                                    <div className=\"col-12 col-sm-5\">\r\n                                        <h5>{item.name}</h5>\r\n                                    </div>\r\n                                    <div className=\"col-12 col-sm-2\">\r\n                                        <h6>Quantity:{item.quantity}</h6>\r\n                                    </div>\r\n                                    <div className=\"col-12 col-sm-2\">\r\n                                        <h4>Rs. {item.price}</h4>\r\n                                    </div>\r\n                                </Link>\r\n                            </div>\r\n                            </Card>\r\n                        ))}\r\n                        <h3 className=\"text-end\">Total: {order.bill}</h3>\r\n                    </div>\r\n                    \r\n                </Card>\r\n                </div>\r\n            ))\r\n            \r\n            )\r\n        }else{\r\n            return (\r\n                <div className=\"text-center text-info\"><h1>Empty</h1></div>\r\n            )\r\n        }\r\n    }\r\n    const loadingfun = () =>{\r\n        return (\r\n            <div className=\"d-flex justify-content-center align-items-center\" style={{\"minHeight\":\"87vh\"}}>\r\n                    <Spinner color=\"dark\" />\r\n                    <h1>Loading...</h1>\r\n            </div>\r\n        )\r\n    }\r\n    return (\r\n        <div className=\"Container \">\r\n                <h1 className=\"text-center\">My Orders </h1>\r\n                {  order.loading ? \r\n                    loadingfun()\r\n                    :\r\n                    <div className=\"m-3 \">\r\n                            { displayOrders()}\r\n                    </div>\r\n                }\r\n            </div>\r\n    )\r\n}\r\n\r\nexport default Orders\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { Container, Row} from 'reactstrap'\r\nimport './Home.css'\r\n\r\nfunction Home() {\r\n    return (\r\n        <div className=\"home\">\r\n            <Container >\r\n                <Row className=\"text-center p-5\">\r\n                    <h1>Welcome to FlyBuy </h1>\r\n                    <h4>Click Here to Shop</h4>\r\n                    <h2 ><Link to='/shop'><i className=\"fas fa-store-alt icon\"></i></Link></h2>\r\n                </Row>\r\n            </Container>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Home\r\n","import React ,{useState, us}from 'react'\r\nimport {useHistory} from 'react-router-dom'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport axios from 'axios'\r\nimport { Spinner } from 'reactstrap'\r\nimport { showErrMsg, showSuccessMsg } from '../../../utils/notification/Notification'\r\nimport { addItem } from '../../../../redux/actions/itemActions'\r\nconst initialState = {\r\n    title: '',\r\n    description: '',\r\n    category: '',\r\n    price: '',\r\n    img: '',\r\n    err: '',\r\n    success: ''\r\n}\r\n\r\nfunction AddItem() {\r\n    const [itemImg, setItemImg] = useState(false)\r\n    const [loading, setLoading] = useState(false)\r\n    const [data, setData] = useState(initialState)\r\n    const token = useSelector(state => state.token)\r\n    const dispatch = useDispatch()\r\n    const history = useHistory()\r\n    const changeItemImg = async(e) => {\r\n        e.preventDefault()\r\n        try {\r\n            const file = e.target.files[0]\r\n\r\n            if(!file) return setData({...data, err: \"No files were uploaded.\" , success: ''})\r\n\r\n            if(file.size > 1024 * 1024)\r\n                return setData({...data, err: \"Size too large.\" , success: ''})\r\n\r\n            if(file.type !== 'image/jpeg' && file.type !== 'image/png')\r\n                return setData({...data, err: \"File format is incorrect.\" , success: ''})\r\n\r\n            let formData =  new FormData()\r\n            formData.append('file', file)\r\n\r\n            setLoading(true)\r\n            const res = await axios.post('/api/upload_avatar', formData, {\r\n                headers: {'content-type': 'multipart/form-data', Authorization: token}\r\n            })\r\n            setLoading(false)\r\n            setItemImg(res.data.url)\r\n            setData({...data, img:itemImg })\r\n        } catch (err) {\r\n            setData({...data, err: err.response.data.msg , success: ''})\r\n        }\r\n    }\r\n\r\n    const handleChange = e => {\r\n        const {name, value} = e.target\r\n        setData({...data, [name]:value, err:'', success: ''})\r\n    }\r\n    const productImgStyle =  {\r\n        \"max-height\":\"250px\"\r\n    }\r\n    const handleSubmit = async e => {\r\n        e.preventDefault()\r\n        try {\r\n            const {title, description, category, price} = data\r\n            const img = itemImg\r\n            console.log(\"submit data:\")\r\n            console.log(title, description, category, price, img)\r\n            const res = await axios.post('/api/items', {title, description, category, price, img})\r\n            dispatch(addItem(res))\r\n            setData({...data, err:'', success: 'Item Added Successfully'})\r\n        } catch (error) {\r\n            data.err &&\r\n            setData({...data, err: error.response.data.msg, success: ''})\r\n        }\r\n    }\r\n    console.log(data)\r\n    return (\r\n        <div className=\"container\">\r\n            <div className=\"row d-flex justify-content-center mt-5\">\r\n                <h2 className=\"text-center\">Add Item</h2>\r\n                <div className=\"col-12 col-md-6\">\r\n                    {data.err && showErrMsg(data.err) }\r\n                    {data.success && showSuccessMsg(data.success)}\r\n                        <div className=\"ItemImg d-flex justify-content-center\">\r\n                            {!data.err && !data.success && loading && <Spinner color=\"dark\" /> }\r\n                            <img src={itemImg ? itemImg : null} alt=\"\" style={productImgStyle}/>\r\n                        </div>\r\n                    <div className=\"pb-3\">\r\n                        <label className=\"form-label\" htmlFor=\"file\" >Product Image</label>\r\n                        <input type=\"file\" name=\"file\" id=\"file_up\" onChange={changeItemImg} className=\"btn btn-sm\" />\r\n                    </div>\r\n                    <form onSubmit={handleSubmit}>\r\n                        <div className=\"pb-3\">\r\n                            <label className=\"form-label\" htmlFor=\"title\" >Title</label>\r\n                            <input type=\"text\" placeholder=\"Enter product title\" id=\"title\" value={data.title}\r\n                                name=\"title\" className=\"form-control form-control-lg\" onChange={handleChange} />\r\n                        </div>\r\n                        <div className=\"pb-3\">\r\n                            <label className=\"form-label\" htmlFor=\"description\" >Description</label>\r\n                            <input type=\"text\" placeholder=\"Enter product description\" id=\"description\" value={data.description}\r\n                                name=\"description\" className=\"form-control form-control-lg\" onChange={handleChange} />\r\n                        </div>\r\n                        <div className=\"pb-3\">\r\n                            <label className=\"form-label\" htmlFor=\"category\" >Category</label>\r\n                            <input type=\"text\" placeholder=\"Enter product category\" id=\"category\" value={data.category}\r\n                                name=\"category\" className=\"form-control form-control-lg\" onChange={handleChange} />\r\n                        </div>\r\n                        <div className=\"pb-3\">\r\n                            <label className=\"form-label\" htmlFor=\"price\" >Price()</label>\r\n                            <input type=\"text\" placeholder=\"Enter product price\" id=\"price\" value={data.price}\r\n                                name=\"price\" className=\"form-control form-control-lg\" onChange={handleChange} />\r\n                        </div>\r\n                        <div className=\"pt-1 mb-4\" >\r\n                                <button  className=\"btn btn-info btn-lg btn-block\" type=\"submit\">Add </button>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default AddItem\r\n","import React from 'react'\r\n\r\nfunction EditItem() {\r\n    return (\r\n        <div>\r\n            EditItem\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default EditItem\r\n","import React from 'react'\r\n\r\nfunction DeleteItem() {\r\n    return (\r\n        <div>\r\n            Delete Item\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default DeleteItem\r\n","import React,{useEffect} from 'react'\r\nimport { useParams, useHistory } from 'react-router-dom'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport {Button,Row} from 'reactstrap';\r\nimport './Shop.css'\r\nimport { addToCart } from '../../../redux/actions/cartActions';\r\nimport { returnErrors } from '../../../redux/actions/errorActions';\r\nimport axios from 'axios';\r\nimport { getItems, setItemsLoading } from '../../../redux/actions/itemActions';\r\nfunction ProductDetail() {\r\n    const {id} = useParams()\r\n    const history = useHistory()\r\n    const dispatch = useDispatch()\r\n    const items = useSelector(state => state.item)\r\n    const auth = useSelector(state => state.auth)\r\n    const  item1  = items.items.filter((i) => {\r\n        return i._id === id? i : null\r\n    })[0];\r\n    const onAddToCart = async (id, productId,quantity) => {\r\n        console.log(\"AddToCart clicked\")\r\n        try {\r\n            const res = await axios.post(`/api/cart/${id}`, {productId, quantity})\r\n            dispatch(addToCart(res))\r\n            return alert ('Item added to Cart');\r\n        } catch (err) {\r\n            //dispatch(returnErrors(err.response.data, err.response.status))\r\n            console.log(\"ProductDetail AddToCart err: \");\r\n            return console.log(err);\r\n        }\r\n\r\n    }\r\n    const productImgStyle =  {\r\n        \"max-height\":\"250px\"\r\n    }\r\n    const itemsCall = () => {\r\n        try{\r\n          console.log(\"items api request\")\r\n          dispatch(setItemsLoading())\r\n          const itemFun = async () =>{\r\n              const res = await axios.get('/api/items')\r\n              dispatch(getItems(res));\r\n          }\r\n          itemFun()\r\n      }catch(err){\r\n          try{\r\n              dispatch(returnErrors(err.response.data, err.response.status))\r\n          }catch(e){\r\n              console.log(\"ProductDetail-page:item call-: \"+e);\r\n          }\r\n      }\r\n      }\r\n    useEffect(() => {\r\n        itemsCall()\r\n    },[!(auth.isLogged)])\r\n    const itemDetails=()=>{\r\n        if(item1!==undefined && item1!==null){\r\n            return (\r\n                <Row>   \r\n                    \r\n                    <h1 className=\"text-center solid mb-5\">Product Details</h1>\r\n                    <div className=\"col-12 col-md-4 d-flex justify-content-center mb-4\">\r\n                        <img src={item1.img} alt=\"product img\" style={productImgStyle}/>\r\n                    </div>\r\n                    <div className=\"col-12 col-md-6\" >\r\n                        <h2>{item1.title}</h2>\r\n                        <p>category: {item1.category}</p>\r\n                        <h5 className=\"my-3\">Product Id: {item1._id}</h5>\r\n                        <h2>{item1.price}</h2>\r\n                        \r\n                        <h5 className=\"text-secondary mt-3\">Description</h5>\r\n                        <p>{item1.description}</p>\r\n                        {auth.isLogged? \r\n                            <Button\r\n                                color=\"info\"\r\n                                size=\"sm\"\r\n                                className=\"gpk-btn\"\r\n                                onClick={()=> onAddToCart(auth.user._id, item1._id, 1)}\r\n                                >Add To Cart</Button> :\r\n                                null}\r\n                    </div>\r\n                </Row>\r\n            )\r\n        }else{\r\n            //history.push('/404')\r\n            return <h1 className=\"text-center\">Item Not Found</h1>\r\n        }\r\n    }\r\n    return (\r\n        <div className=\"container mb-5\">\r\n            <div className=\"d-flex justify-content-start\">\r\n                <button onClick={() => history.goBack()} className=\"go_back\">\r\n                    <i className=\"fas fa-long-arrow-alt-left\"></i> Go Back\r\n                </button>\r\n            </div>\r\n            {itemDetails()}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProductDetail\r\n","import React, {useState} from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { useHistory } from 'react-router-dom';\r\nimport {Button} from 'reactstrap'\r\nimport axios from 'axios';\r\nimport {clearCart} from '../../../redux/actions/cartActions'\r\n\r\nconst initialState = {\r\n  address:'',\r\n  mobileNo:''\r\n}\r\n\r\nfunction Checkout() {\r\n    const cart = useSelector(state => state.cart)\r\n    const auth = useSelector(state => state.auth)\r\n    const history = useHistory()\r\n    const dispatch = useDispatch()\r\n    const user = auth.user._id\r\n\r\n    const [data, setData] = useState(initialState)\r\n    const {address, mobileNo} = data\r\n\r\n    const handleChange = e => {\r\n      const {name, value} = e.target\r\n      setData({...data, [name]:value})\r\n    }\r\n\r\n\r\n    const razorPayPaymentHandler = async() => {\r\n        \r\n          const orderUrl = `/api/order/${user}`;\r\n\r\n          const response = await axios.post(orderUrl,{address, mobileNo});\r\n          const { data } = response;\r\n          console.log(\"App -> razorPayPaymentHandler -> data\", data)\r\n        \r\n        const options = {\r\n          key: '',\r\n          name: \"FlyBuy\",\r\n          description: \"Thank you for shopping.\",\r\n          order_id: data.id,\r\n          handler: async (response) => {\r\n            try {\r\n             const paymentId = response.razorpay_payment_id;\r\n             const url = `/api/order/capture/${paymentId}`;\r\n             const amount = cart.cart? cart.cart.bill: 0\r\n             const captureResponse = await axios.post(url, {amount})\r\n             console.log(captureResponse)\r\n             const successObj = JSON.parse(captureResponse.data)\r\n             const captured = successObj.captured;\r\n             console.log(\"App -> razorPayPaymentHandler -> captured\", successObj)\r\n             if(captured){\r\n              \r\n                console.log('success')\r\n                const url = `/api/order/success/${data.id}`;\r\n                const success = async () =>{\r\n                  try{\r\n                    const res = await axios.post(url, {userId: user })\r\n                  }catch(err){\r\n                    console.log(\"success error : \")\r\n                    console.log(err)\r\n                  }\r\n                } \r\n                success()\r\n                dispatch(clearCart())\r\n\r\n                return history.push('/orders');\r\n             }else{\r\n               console.log(\"failure\")\r\n              return history.push('/orders');\r\n             }\r\n             \r\n            } catch (err) {\r\n              console.log(\"handler error: \")\r\n              console.log(err);\r\n                return (\r\n                    <div>\r\n                        <h1>Something went wrong </h1>\r\n                    </div>\r\n                )\r\n            }\r\n          },\r\n          theme: {\r\n            color: \"#686CFD\",\r\n          },\r\n        };\r\n        const rzp1 = new window.Razorpay(options)\r\n        rzp1.open()\r\n    }\r\n\r\n    return (\r\n        <div className=\"container\">\r\n            <div className=\"row\">\r\n              <div className=\"col-12 col-md-6\">\r\n                <div className=\"form-group mb-2\">\r\n                      <label className=\"form-label\" htmlFor=\"address\">Address</label>\r\n                      <input type=\"text\" name=\"address\" id=\"address\" value={address}\r\n                      placeholder=\"Enter delivery address\" onChange={handleChange} className=\"form-control form-control-lg\"/>\r\n                  </div>\r\n\r\n                  <div className=\"form-group mb-2\">\r\n                      <label className=\"form-label\" htmlFor=\"mobileNo\">Mobile Number</label>\r\n                      <input type=\"tel\" name=\"mobileNo\" pattern=\"[0-9]{10}\" id=\"mobileNo\" value={mobileNo}\r\n                      placeholder=\"Enter Mobile Number\" onChange={handleChange}  className=\"form-control form-control-lg\" />\r\n                  </div>\r\n              </div>\r\n            </div>\r\n            <Button onClick={() => razorPayPaymentHandler()}>Proceed</Button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Checkout\r\n","import React, {useState } from 'react'\r\nimport { useSelector} from 'react-redux'\r\nimport {useHistory, useParams} from 'react-router-dom';\r\nimport './Recipt.css'\r\nimport moment from 'moment'\r\nfunction Recipt() {\r\n    const order = useSelector(state => state.order)\r\n    const auth = useSelector(state => state.auth)\r\n    const {id}= useParams()\r\n    const [orderR, setOrderR]= useState()\r\n    const  history = useHistory()\r\n    console.log(id)\r\n    const OrderFilterFunc = () => {\r\n        if(order.orders && orderR=== undefined ){\r\n            order.orders.map((order) => {\r\n                if(order._id === id){\r\n                    return setOrderR(order)\r\n                }\r\n            })\r\n        }\r\n        console.log(orderR)\r\n    }\r\n    const printReceipt = () =>{\r\n        window.print()\r\n    }\r\n\r\n    const printItems = () => {\r\n        var i=1;\r\n        return (orderR.items.map((item) => {\r\n              return (<tr key={item.productId}>\r\n                <th scope=\"row\">{i++}</th>\r\n                <td>{item.name}</td>\r\n                <td>{item.quantity}</td>\r\n                <td>{item.price}</td>\r\n                <td>{item.quantity*item.price}</td>\r\n              </tr>)\r\n        }))\r\n    }\r\n    const displayRecipt = () => {\r\n        if( orderR === undefined ){\r\n            return (<div>\r\n                <hr/>\r\n                <h1 className=\"text-center text-danger\">Invalid Order Id</h1>\r\n            </div>\r\n\r\n            )\r\n        }\r\n        return (\r\n            <div className=\"card p-3\">\r\n                <div className=\"printme\">\r\n                    <div className=\"d-flex justify-content-end\" >\r\n                        <button  onClick={() => {window.print()}} className=\"btn btn-info\"><i className=\"fa fa-print\"></i>Print</button>\r\n                    </div>\r\n                    <hr/>\r\n                </div>\r\n                <div className=\"d-flex justify-content-between align-items-center\">\r\n                    <h3 style={{\"color\":\"#0d6efd\"}}>FlyBuy</h3>\r\n                    <h6 className=\"text-end\">Order Id: {orderR._id}</h6>\r\n                </div>\r\n                <hr/>\r\n                <p>To:</p>\r\n                <h5>{auth.user.name.toUpperCase()}</h5>\r\n                <p>{orderR.address?orderR.address:null}</p>\r\n                <p>Email: {auth.user.email}</p>\r\n                <p>{orderR.mobileNo?\r\n                    \"Phone: +91 \"+ orderR.mobileNo\r\n                    :null}</p>\r\n                <p> Ordered: {moment(orderR.date_added).format('LLL') }</p>\r\n                <table className=\"table\">\r\n                    <thead className=\"thead-dark\">\r\n                    <tr>\r\n                        <th scope=\"col\">#</th>\r\n                        <th scope=\"col\">Item</th>\r\n                        <th scope=\"col\">Qty</th>\r\n                        <th scope=\"col\">Price</th>\r\n                        <th scope=\"col\">Total</th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {printItems()}\r\n                    </tbody>\r\n                </table>\r\n                <div className=\"d-flex justify-content-end\">\r\n                    <strong className=\"px-2\">Subtotal: </strong>\r\n                    <strong>{orderR.bill}</strong>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n    return (\r\n        <div className=\"container\">\r\n            <div className=\"d-flex justify-content-start\">\r\n                <button onClick={() => history.goBack()} className=\"go_back\">\r\n                    <i className=\"fas fa-long-arrow-alt-left\"></i> Go Back\r\n                </button>\r\n            </div>\r\n            <h1 className=\"text-center\">Recipt</h1>\r\n            <div className=\"row\">\r\n                {OrderFilterFunc()}\r\n                {displayRecipt()}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Recipt\r\n","import React from 'react'\nimport {Switch, Route} from 'react-router-dom'\nimport ActivationEmail from './auth/ActivationEmail'\nimport Login from './auth/Login'\nimport Register from './auth/Register'\nimport {useSelector} from 'react-redux'\nimport NotFound from '../utils/NotFound/NotFound'\nimport ForgotPassword from './auth/ForgotPassword'\nimport ResetPassword from './auth/ResetPassword'\nimport Profile from './profile/Profile'\nimport EditUser from './profile/EditUser'\nimport Shop from './shop/Shop'\nimport Cart from './cart/Cart'\nimport Orders from './orders/Orders'\nimport Home from './home/Home'\nimport AddItem from './shop/Item/AddItem'\nimport EditItem from './shop/Item/EditItem'\nimport DeleteItem from './shop/Item/DeleteItem'\nimport ProductDetail from './shop/ProductDetail'\nimport Checkout from './checkout/Checkout'\nimport Recipt from './orders/Recipt'\nfunction Body() {\n    const auth = useSelector(state => state.auth)\n    const {isLogged, isAdmin} = auth\n    return (\n        <section>\n            <Switch>\n                <Route exact path=\"/\" component={ Home} />\n                <Route exact path=\"/login\" component={isLogged ? NotFound : Login} />\n                <Route exact path=\"/register\" component={isLogged ? NotFound : Register} />\n                <Route exact path=\"/forgot_password\" component={isLogged ? NotFound : ForgotPassword} />\n                <Route exact path=\"/user/reset/:token\" component={isLogged ? NotFound : ResetPassword} />\n\n                <Route exact path=\"/user/activate/:activation_token\" component={ActivationEmail} />\n\n                <Route exact path=\"/profile\" component={isLogged ? Profile:NotFound} />\n                <Route exact path=\"/edit_user/:id\" component={isAdmin ? EditUser:NotFound} />\n                <Route exact path=\"/shop\" component={Shop} />\n                <Route exact path=\"/shop/item_details/:id\" component={ProductDetail} />\n                <Route exact path=\"/cart\" component={isLogged ? Cart:NotFound} />\n                <Route exact path=\"/orders\" component={isLogged ? Orders:NotFound} />\n                <Route exact path=\"/checkout\" component={isLogged ? Checkout:NotFound} />\n                <Route exact path=\"/order/recipt/:id\" component={isLogged ? Recipt:NotFound} />\n                \n                <Route exact path=\"/shop/items/add_item\" component={isAdmin ? AddItem:NotFound} />\n                <Route exact path=\"/shop/edit_item/:id\" component={isAdmin ? EditItem:NotFound} />\n                <Route exact path=\"/shop/delete_item/:id\" component={isAdmin ? DeleteItem:NotFound} />\n                \n                <Route  component={NotFound} />\n            </Switch>\n            \n        </section>\n    )\n}\n\nexport default Body\n","import React, {Fragment, useState} from 'react'\nimport {Link, NavLink} from 'react-router-dom'\nimport {useSelector} from 'react-redux'\nimport axios from 'axios'\nimport {\n    Collapse, \n    Navbar, \n    NavbarToggler, \n    Nav, \n    NavItem, \n    Container, DropdownToggle, DropdownMenu, DropdownItem, UncontrolledDropdown \n} from 'reactstrap';\nfunction Header() {\n    const auth = useSelector(state => state.auth)\n\n    const {user, isLogged} = auth\n    const handleLogout = async () =>{\n        try{\n            await axios.get('/user/logout')\n            localStorage.removeItem('firstlogin')\n            window.location.href = \"/\";\n        }catch(err){\n            window.location.href = \"/\";\n        }\n    }\n    const [isOpen, setIsOpen] = useState(false)\n\n    const toggle = () => {\n        setIsOpen(!isOpen)\n    }\n    \n    const nameLength = isLogged? (user.name? (user.name).length : 0): 0\n    //console.log(\"nameLenght:\" + nameLength +\"  name :\" + (user.name).slice(0,7))\n    const userLink = () => {\n        return (\n        <Fragment >\n            <NavItem>\n                <Link  to=\"/cart\" className=\"nav-link gpk-Underline\"><span className=\"fas fa-shopping-cart\"/> Cart</Link>\n            </NavItem>\n            <NavItem >\n                    <Link to=\"/orders\" className=\"nav-link gpk-Underline\">Orders</Link>\n            </NavItem>\n            <UncontrolledDropdown setActiveFromChild >\n                <DropdownToggle tag='div'>\n                    <NavItem>\n                        <Link to=\"#\" className=\"nav-link avatar\">\n                        <img src={user.avatar} alt=\"\"/> { nameLength > 7 ?  (user.name).slice(0,7) :user.name } <i className=\"fas fa-angle-down\"></i>\n                        </Link>\n                    </NavItem>\n                </DropdownToggle>\n                <DropdownMenu>\n                    <DropdownItem>\n                        <NavItem>\n                            <Link to=\"/profile\" className=\"nav-link\" >Profile</Link>\n                        </NavItem>\n                    </DropdownItem>\n                        <DropdownItem divider />\n                    <DropdownItem>\n                        <NavItem>\n                            <Link to=\"/\"  className=\"nav-link\" onClick={handleLogout}>Logout</Link>\n                        </NavItem>\n                    </DropdownItem>\n                </DropdownMenu>\n            </UncontrolledDropdown>\n        </Fragment>\n        )\n    }\n    return (\n        <header>\n            <Navbar color=\"light\" style={{fontWeight: \"700\"}} light expand=\"sm\" >\n                    <Container>\n                        \n                        <NavLink className=\"NavbarBrand\" to='/'>FlyBuy</NavLink>\n                        <NavbarToggler onClick={toggle}/>\n                        <Collapse isOpen={isOpen} className='justify-content-end' navbar>\n                            <Nav className={\"ml-auto align-items-\"+(isOpen? \"start\" :\"center\")} navbar >\n                            <NavItem>\n                                <NavLink exact={true}  className=\"nav-link gpk-Underline\" to=\"/\">Home</NavLink>\n                            </NavItem>\n                            <NavItem>\n                                <Link className=\"nav-link gpk-Underline \" to=\"/shop\"><span className=\"fas fa-store p\"/>Shop</Link>\n                            </NavItem> \n                                { isLogged ? userLink(): \n                                    <NavItem> \n                                        <Link to=\"/login\" className=\"nav-link gpk-Underline\"><i className=\"fas fa-user\"></i> Sign in</Link>\n                                    </NavItem>\n                                }                               \n                            </Nav>\n                        </Collapse>\n                    </Container>\n            </Navbar>\n        </header>\n    )\n}\n\nexport default Header\n","import React, {useEffect} from 'react';\nimport  {BrowserRouter as Router} from 'react-router-dom';\nimport Body from './components/body/Body';\nimport Header from './components/header/Header';\nimport './App.css';\nimport {useDispatch, useSelector} from 'react-redux';\nimport axios from 'axios';\nimport {dispatchLogin, fetchUser, dispatchGetUser} from './redux/actions/authActions';\nimport { returnErrors } from './redux/actions/errorActions';\nimport { getItems, setItemsLoading } from './redux/actions/itemActions';\nimport { getCart, setCartLoading } from './redux/actions/cartActions';\nimport {Cookies} from 'react-cookie'\n\nfunction App() {\n  const transport = axios.create({\n    withCredentials: true\n  })\n  const dispatch = useDispatch()\n  const token = useSelector(state => state.token)\n  const auth = useSelector(state => state.auth)\n  const itemsCall = () => {\n    try{\n      console.log(\"items api request\")\n      dispatch(setItemsLoading())\n      const itemFun = async () =>{\n          const res = await axios.get('/api/items')\n          dispatch(getItems(res));\n      }\n      itemFun()\n  }catch(err){\n      try{\n          dispatch(returnErrors(err.response.data, err.response.status))\n      }catch(e){\n          console.log(\"Shop-page: \"+e);\n      }\n  }\n  }\n  useEffect(() => {\n    const firstLogin = localStorage.getItem('firstlogin')\n    //console.log(\"app.js\")\n    \n    if(firstLogin){\n      const getToken = async () => {\n        //console.log(\"get token:\")\n        /* let cookie = Cookies.get('refreshtoken')\n        console.log(\"token:\"+ cookie) */\n\n        const requestOptions = {\n          method: 'POST',\n          headers: { 'Content-Type': 'application/json' },\n          credentials: 'include',\n          body: null\n        };\n        const res = await fetch('/user/refresh_token', requestOptions).then( (response) => { return response.json()})\n        //console.log(res)\n        //console.log(res.access_token)\n        //const res = await axios.post('/user/refresh_token',null)\n          /* , {\n          withCredentials: true,\n          credentials: 'include',\n        } */\n        //console.log(res)\n        try{\n          dispatch({type: 'GET_TOKEN', payload: res.access_token})\n        }catch(e){\n          console.log(e)\n        }\n      }\n      getToken()\n    }\n  },[auth.isLogged, dispatch])\n\n  useEffect(() => {\n    itemsCall()\n  },[!auth.isLogged])\n\n  useEffect(() => {\n    if(token){\n      const getUser = () => {\n        dispatch(dispatchLogin())\n        return fetchUser(token).then(res => {\n          //console.log(\"fetch: \")\n          //console.log(res)\n          dispatch(dispatchGetUser(res))\n        })\n      }\n      getUser()\n    }\n  }, [token, dispatch])\n\n  return (\n    <div className=\"App\">\n      <Router>\n        <Header />\n        <Body />\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import ACTIONS from \"../actions\";\n\nconst initialState = {\n    user: [],\n    isLogged: false,\n    isAdmin: false\n}\n\nconst authReducer = (state = initialState, action) => {\n    switch(action.type){\n        case ACTIONS.LOGIN:\n                return {\n                    ...state,\n                    isLogged: true\n                }\n        case ACTIONS.GET_USER:\n            return {\n                ...state,\n                user: action.payload.user,\n                isAdmin: action.payload.isAdmin\n            }\n        default:\n                return state\n    }\n}\n\nexport default authReducer","import ACTIONS from \"../actions\";\n\nconst token =''\n\nconst tokenReducer = (state = token, action) => {\n    switch(action.type){\n        case ACTIONS.GET_TOKEN:\n                return action.payload\n        default:\n                return state\n    }\n}\nexport default tokenReducer","import ACTIONS from \"../actions\";\n\nconst users = []\n\nconst usersReducer = (state = users, action) => {\n    switch(action.type){\n        \n        case ACTIONS.GET_ALL_USERS:\n            return action.payload\n        default:\n                return state\n    }\n}\n\nexport default usersReducer","import ACTIONS from \"../actions\";\r\nconst initialState = {\r\n    items: [],\r\n    loading: false\r\n}\r\n\r\nconst itemReducer = (state=initialState, action) => {\r\n    switch(action.type){\r\n        case ACTIONS.GET_ITEMS:\r\n            return{\r\n                ...state,\r\n                items: action.payload,\r\n                loading: false\r\n            }\r\n        \r\n        case ACTIONS.ADD_ITEM:\r\n            return{\r\n                ...state,\r\n                items: [action.payload, ...state.items]\r\n            }\r\n        \r\n        case ACTIONS.DELETE_ITEM:\r\n            return{\r\n                ...state,\r\n                items: state.items.filter(item => item._id!==action.payload)                \r\n            };\r\n        \r\n        case ACTIONS.UPDATE_ITEM:\r\n            const { id, data } = action.payload;\r\n            return{\r\n                ...state,\r\n                items: state.items.map((item) => {\r\n                    if(item._id===id){\r\n                        return item = data;\r\n                    }\r\n                    return null;\r\n                })\r\n            }\r\n\r\n        case ACTIONS.ITEMS_LOADING:\r\n            return{\r\n                ...state,\r\n                loading: true\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default itemReducer","import ACTIONS from \"../actions\";\r\nconst initialState = {\r\n    orders: [],\r\n    loading: false\r\n}\r\n\r\nconst orderReducer = (state = initialState, action) => {\r\n    switch(action.type){\r\n        case ACTIONS.GET_ORDERS:\r\n            return{\r\n                ...state,\r\n                orders: action.payload,\r\n                loading: false\r\n            }\r\n\r\n        case ACTIONS.CHECKOUT:\r\n            return{\r\n                ...state,\r\n                orders: [action.payload, ...state.orders]\r\n            }\r\n\r\n        case ACTIONS.ORDERS_LOADING:\r\n            return{\r\n                ...state,\r\n                loading: true\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default orderReducer","import ACTIONS from \"../actions\";\r\nconst initialState = {\r\n    cart: null,\r\n    loading: false\r\n}\r\n\r\nconst cartReducer = (state=initialState, action) => {\r\n    switch(action.type){\r\n        case ACTIONS.GET_CART:\r\n            return {\r\n                ...state,\r\n                cart: action.payload,\r\n                loading: false\r\n            }\r\n\r\n        case ACTIONS.ADD_TO_CART:\r\n            return {\r\n                ...state,\r\n                cart: action.payload\r\n            }\r\n\r\n        case ACTIONS.DELETE_FROM_CART:\r\n            return {\r\n                ...state,\r\n                cart: action.payload\r\n            }\r\n\r\n        case ACTIONS.CART_LOADING:\r\n            return {\r\n                ...state, \r\n                loading: true\r\n            }\r\n\r\n        case ACTIONS.CLEAR_CART:\r\n            return {\r\n                ...state,\r\n                cart: null,\r\n                loading: false\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default cartReducer","import ACTIONS from \"../actions\";\r\nconst initialState = {\r\n    msg: {},\r\n    status: null,\r\n    id: null\r\n}\r\n\r\nconst errorReducer = (state=initialState, action) =>{\r\n    switch(action.type){\r\n        case ACTIONS.GET_ERRORS:\r\n            return{\r\n                msg: action.payload.msg,\r\n                status: action.payload.status,\r\n                id: action.payload.id\r\n            };\r\n        \r\n        case ACTIONS.CLEAR_ERRORS:\r\n            return{\r\n                msg: {},\r\n                status: null,\r\n                id: null\r\n            };\r\n            \r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default errorReducer","import {combineReducers} from 'redux'\nimport auth from './authReducer'\nimport token from './tokenReducer'\nimport users from './usersReducer'\nimport item from './itemReducer'\nimport order from './orderReducer'\nimport cart from './cartReducer'\nimport error from './errorReducer'\nexport default combineReducers({\n    auth,\n    token,\n    users,\n    item,\n    cart,\n    order,\n    error\n})","import React from 'react'\nimport {createStore} from 'redux'\nimport rootReducer from './reducers'\nimport {Provider} from 'react-redux'\n\nconst store = createStore(rootReducer,\n    window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\n    )\nfunction DataProvider({children}) {\n    return (\n        <Provider store={store}>\n            {children}\n        </Provider>\n    )\n}\n\nexport default DataProvider\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport DataProvider from './redux/store'\nimport axios from 'axios';\n//axios.defaults.baseURL = 'http://localhost:5000' \naxios.defaults.baseURL = 'https://flybuy-ecom-api.herokuapp.com'\n/*axios.defaults.withCredentials = true \naxios.defaults.credentials = 'include'\naxios.defaults.headers.post['Content-Type'] ='application/json;charset=utf-8';\naxios.defaults.headers.post['Access-Control-Allow-Origin'] = '*'; */\n\nReactDOM.render(\n  <React.Fragment> \n    <DataProvider>\n      <App />\n    </DataProvider>\n  </React.Fragment>,\n  document.getElementById('root')\n);\n//StrictMode to Fragment -gpk duke to error\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}